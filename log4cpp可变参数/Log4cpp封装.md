# Log4cpp封装

## bug:

- 模板成员函数放在.cpp文件之中实现，需要将实现的.cpp文件include到头文件中。如果只在头部include 还不行，还必须在最尾部include，否则编译时会报成员函数没有声明的错误(模板函数的实现不能打包成库的形式，也就是说只能把源代码当成库的形式供人使用，那么不如直接把实现直接写在头文件中)

## C++程序的4个编译阶段：

1. 预处理（Preprocessing）：在此阶段，预处理器对源代码进行处理。它执行诸如宏展开、条件编译、包含头文件等操作。预处理器根据以 `#` 开头的预处理指令来执行相应的操作，并生成一个被预处理后的源文件。
2. 编译（Compilation）：在此阶段，编译器将预处理后的源代码转换为汇编代码（Assembly code）。编译器将源代码翻译成汇编语言，将每个源文件编译为对应的目标文件。目标文件是机器可以执行的低级代码，但它仍然依赖于其他的目标文件和库。
3. 汇编（Assembly）：在此阶段，汇编器将汇编代码转换为机器代码。汇编器将每个目标文件中的汇编语言指令转换为机器指令，并生成可重定位的二进制目标文件。
4. 链接（Linking）：在此阶段，链接器将所有的目标文件和所需的库（静态库或动态库）结合在一起，生成最终的可执行文件。链接器解决了符号引用和符号重定位的问题，将程序的不同部分连接起来形成可执行文件。
5. inline函数的展开是在编译阶段，而不是在预处理阶段，这时它跟宏定义不同的地方。预处理器进行的只是简单的文本替换。使用inline关键字是建议编译器将函数体直接插入到调用处，而不是通过函数调用的方式执行。如果编译器决定对其进行内联展开的时候，会将函数体直接插入到调用处，并生成相应的机器指令。

## 可变参数宏：

`#define print(msg,...)  test(msg,##__VA_ARGS__)`